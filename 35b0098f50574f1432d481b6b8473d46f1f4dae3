{
  "comments": [
    {
      "key": {
        "uuid": "ce8c5bf9_84e88d0c",
        "filename": "javascripts/Router.js",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 94
      },
      "writtenOn": "2014-10-06T20:20:49Z",
      "side": 1,
      "message": "* Also what is advantage of using popstate over hashchange?\n* deferredRequest should be part of the Router itself in case there are multiple Router\u0027s being used\n* This might lead to events being lost\ne.g. if I do \nM \u003d mw.mobileFrontend\nRouter \u003d M.require( \u0027Router\u0027 )\nrouter \u003d new Router()\nwindow.location.hash \u003d \u0027#foo\u0027\nwindow.location.hash \u003d \u0027#bar\u0027\nwindow.location.hash \u003d \u0027#hello\u0027\nrouter.back().done( function() { alert(0); } )\nrouter.back().done( function() { alert(1); } )\nI will get 1 alerted but no 0 even though that completed...\n\nMaybe using EventEmitter and `one`/`once` function would be a better idea here?",
      "revId": "35b0098f50574f1432d481b6b8473d46f1f4dae3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce8c5bf9_04a1dd41",
        "filename": "javascripts/Router.js",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 53
      },
      "writtenOn": "2014-10-06T21:24:06Z",
      "side": 1,
      "message": "\"The popstate event is only triggered by doing a browser action such as a clicking on the back button (or calling history.back() in JavaScript). \"\nhttps://developer.mozilla.org/en-US/docs/WindowEventHandlers.onpopstate\n\nI guess the advantage is that pushState and replaceState won\u0027t trigger it so it is better targeted.  I will make deferredRequest belong to Router and test for event loss",
      "parentUuid": "ce8c5bf9_84e88d0c",
      "revId": "35b0098f50574f1432d481b6b8473d46f1f4dae3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce8c5bf9_3fa50a01",
        "filename": "javascripts/Router.js",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 94
      },
      "writtenOn": "2014-10-06T21:52:18Z",
      "side": 1,
      "message": "Okay sounds good. :)",
      "parentUuid": "ce8c5bf9_04a1dd41",
      "revId": "35b0098f50574f1432d481b6b8473d46f1f4dae3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}