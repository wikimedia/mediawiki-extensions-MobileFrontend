{
  "comments": [
    {
      "key": {
        "uuid": "8ec42329_c41e1075",
        "filename": "resources/mobile.search/SearchOverlay.js",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 890
      },
      "writtenOn": "2015-06-25T19:26:21Z",
      "side": 1,
      "message": "loader.loadModule adds an Loadingoverlay to hide the content until the module is loaded. This module is loaded on page startup (not bind to any interaction of the user) which would result in a LoadingOverlay when you open the page, and no visible action taken after it (except removing the overlay). In my point of view that\u0027s not acceptable :) Could you use mw.loader.load or a similar method?\n\nI\u0027m not sure, if loading the module via JS is the best solution at all, maybe we can work on a good separation of the modules to add the required modules via php to load it in combination with other modules, instead of alone :)",
      "revId": "a91698d9d9fef68322138d74a1766e4ff3d44841",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_5f28ad94",
        "filename": "resources/mobile.search/SearchOverlay.js",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 776
      },
      "writtenOn": "2015-06-25T20:22:41Z",
      "side": 1,
      "message": "i can certainly switch over to mw.loader.load, thats trivial.\n\nI also agree its not preferable to grab this javascript independantly, but I don\u0027t know how we can make resource loader do \"the right thing\" in other cases.  The resources are not generated per user, so it has no clue that resources necessary for a beta experience are required.\n\nGrepping through mobile frontend it looks like loading beta modules as required is basically the current \u0027standard\u0027 experience.  Its done in mobile.references and mobile.mediaViewer.  I could push this out of the init and into a function so we only make this web request if the user really does a search?",
      "parentUuid": "8ec42329_c41e1075",
      "revId": "a91698d9d9fef68322138d74a1766e4ff3d44841",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_0a450147",
        "filename": "resources/mobile.search/SearchOverlay.js",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 890
      },
      "writtenOn": "2015-06-25T20:28:23Z",
      "side": 1,
      "message": "mobile.references is a bit other case, it has to load a module no matter if there is a beta module or not :)\n\nI\u0027m not sure, if that\u0027s a good alternative or not: You could use SkinMinervaBeta.php to add your new module to the modules that should be loaded (or maybe directly in Resources, just add your module to the beta module equivalent of the one where mobile.search is added now). Here in SearchOverlay.js you could use mw.loader.using, if i\u0027m right it will not load a module twice, so if it is loaded via php already, ok, and if not, it will load it :)\n\nI hope you understand what i mean, it sounds like a bit confused :D",
      "parentUuid": "8ec42329_5f28ad94",
      "revId": "a91698d9d9fef68322138d74a1766e4ff3d44841",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}