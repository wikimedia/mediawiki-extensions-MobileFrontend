{
  "comments": [
    {
      "key": {
        "uuid": "ddd0c16a_9d71d26b",
        "filename": "webpack.config.js",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-09-11T23:39:03Z",
      "side": 0,
      "message": "This is useful for testing and debugging. Why do we want to loop in a dependency on mw instead of using this dependency-free export? The long term todo from my point of view is to remove mw.mobileFrontend instead.",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 76,
        "endChar": 41
      },
      "revId": "ad730d4f39035a49aaae7a4c8bde976e96e69995",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9206e1b7_24052092",
        "filename": "webpack.config.js",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-09-11T23:46:00Z",
      "side": 0,
      "message": "I\u0027m still not clear on the value here - can you elaborate what you mean by testing and debugging here? I can\u0027t see any reason we need to inspect these values right now and I\u0027m a strong believer in the https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it principle that we shouldn\u0027t add things unless there is a clear usecase.\nIt also feels redundant given these exact values are also available in mw.mobileFrontend in different places meaning there is a high risk of confusion!\n\nIf there is - great- but at the very least we need to rename this variable to avoid confusion e.g. mobileComponents as the name is causing a lot of confusion and friction. The mw.mobileFrontend dependency is not going away any time soon (I\u0027d not be surprised if it\u0027s still here this time next year) and cannot be renamed, but this new one can.",
      "parentUuid": "ddd0c16a_9d71d26b",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 76,
        "endChar": 41
      },
      "revId": "ad730d4f39035a49aaae7a4c8bde976e96e69995",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c60f5b3_21fdc4c6",
        "filename": "webpack.config.js",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-09-11T23:56:33Z",
      "side": 0,
      "message": "mobileFrontend contains all modules in the project, currently only mobile.startup. Eventually it will be usable like:\n\n mobileFrontend[\u0027mobile.startup\u0027].util.foo()\n mobileFrontend[\u0027mobile.init\u0027].test.projectApi \u003d new mw.LiveFlakyMockApi()\n console.log(mobileFrontend[\u0027mobile.nearby\u0027])\n\nmw.mobileFrontend is a singleton instance of ModuleLoader. You can \"import\" things that define a module but not every one of our sources under src/ will.",
      "parentUuid": "9206e1b7_24052092",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 76,
        "endChar": 41
      },
      "revId": "ad730d4f39035a49aaae7a4c8bde976e96e69995",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33d9b225_3f89f2f5",
        "filename": "webpack.config.js",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-09-12T22:24:11Z",
      "side": 0,
      "message": "Sure, but right now I can do\nmw.mobileFrontend.require(\u0027mobile.startup/util\u0027)\nmw.mobileFrontend.require(\u0027mobile.init/skin\u0027)\nso mw.mobileFrontend is way ahead of it and solves this problem, so we\u0027re duplicating effort here - with the cost of increasing the bundle size (we don\u0027t really need to export anything inside our mobile.startup.js)\n\n\nPublishing this to a global on the window object also comes at the cost of exposing things we don\u0027t want to expose e.g. mobileFrontend[\u0027mobile.init\u0027].test.projectApi in a production setting where gadget editors can and will make use of these APIs\n\nAnyway, per our conversation earlier today, my main grievance here is with the name as it\u0027s causing confusion.\n\nI\u0027ve adjusted this patch to rename the variable to mfModules, however we should think long and hard about the cost of this... whether it actually solves a problem we need to solve and whether it\u0027s worth the risk of making what could become a defacto-public-api that we have to support.",
      "parentUuid": "3c60f5b3_21fdc4c6",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 76,
        "endChar": 41
      },
      "revId": "ad730d4f39035a49aaae7a4c8bde976e96e69995",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}