{
  "comments": [
    {
      "key": {
        "uuid": "08c2b386_43bd7980",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-15T22:09:52Z",
      "side": 1,
      "message": "The is_array() case here is probably dead code, since MediaWiki 1.25.",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "355dfa7a_80b4f2ae",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 6565
      },
      "writtenOn": "2018-11-15T23:09:14Z",
      "side": 1,
      "message": "Not written by me. All I wrote were lines 68-73.",
      "parentUuid": "08c2b386_43bd7980",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6197b1a_84703840",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-16T18:47:50Z",
      "side": 1,
      "message": "If you wind up changing the logic here a bit more thoroughly as I suggested below on line 74, you might take the opportunity to clean up some tech debt while you\u0027re reworking the logic.",
      "parentUuid": "355dfa7a_80b4f2ae",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "570b15c7_9e8d0015",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-15T22:09:52Z",
      "side": 1,
      "message": "Same as line 43.",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19e4f412_6c51be1b",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 6565
      },
      "writtenOn": "2018-11-15T23:09:14Z",
      "side": 1,
      "message": "See above response",
      "parentUuid": "570b15c7_9e8d0015",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba74d7c7_ed046c52",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-15T22:09:52Z",
      "side": 1,
      "message": "I don\u0027t know why you\u0027d want to filter out metadata keys, but if you\u0027re going to do that you should use ApiResult::isMetadataKey() instead of checking the prefix manually.",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b66a74e3_508c231c",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 6565
      },
      "writtenOn": "2018-11-15T23:09:14Z",
      "side": 1,
      "message": "Suggested by bawolff to fix problems I was having without it. See https://pastebin.com/tUK4rBFw. I don\u0027t know what that method is and seems to work OK when tested.",
      "parentUuid": "ba74d7c7_ed046c52",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72966c0e_416544cb",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-15T22:09:52Z",
      "side": 1,
      "message": "The only change this code is intentionally making is to overwrite $data[\u0027parse\u0027][\u0027text\u0027]. So, why not do exactly that by using the ApiResult::OVERRIDE and ApiResult::NO_SIZE_CHECK flags to $result-\u003eaddValue(), instead of deleting everything with $result-\u003ereset() and then adding it all back in?",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64570c4f_e9097c91",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 6565
      },
      "writtenOn": "2018-11-15T23:09:14Z",
      "side": 1,
      "message": "I\u0027m assuming you mean the accidentally left comment. Removed now.",
      "parentUuid": "72966c0e_416544cb",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a92d127_ec38c3c5",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-16T18:47:50Z",
      "side": 1,
      "message": "I meant lines 67-74.",
      "parentUuid": "64570c4f_e9097c91",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bef1622_645e4768",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-11-16T21:38:02Z",
      "side": 1,
      "message": "\"So, why not do exactly that by using the ApiResult::OVERRIDE and ApiResult::NO_SIZE_CHECK flags to $result-\u003eaddValue(), instead of deleting everything with $result-\u003ereset() and then adding it all back in?\"\n\n@anomie can you expand on this a little given Pjht is new to our codebase. To be honest even I\u0027m having a hard time following what you mean here.\n\nCould you point him to some example code that does this?",
      "parentUuid": "0a92d127_ec38c3c5",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1707926_05f71bf5",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 221
      },
      "writtenOn": "2018-11-16T23:09:53Z",
      "side": 1,
      "message": "I was avoiding just giving the answer because I don\u0027t know how much work GCI expects students to figure out on their own.\n\nThere\u0027s no example code I know of, because I don\u0027t know of anything else that does what you\u0027re doing here.\n\nWhat I suggested is to delete line 39, and replace lines 67-74 here with just\n\n $result-\u003eaddValue( [ \u0027parse\u0027 ], \u0027text\u0027, $text, ApiResult::OVERRIDE | ApiResult::NO_SIZE_CHECK );\n\nThat should do it.\n\nYou could also remove the bits I flagged as dead code above if you want to pay down some #Technical-Debt while you\u0027re here.",
      "parentUuid": "5bef1622_645e4768",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba80eb60_1b3a54ef",
        "filename": "includes/api/ApiParseExtender.php",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 6565
      },
      "writtenOn": "2018-11-17T17:46:39Z",
      "side": 1,
      "message": "Um, lines 68-73 are the entire solution! Why in the world would I get rid of those lines?!",
      "parentUuid": "e1707926_05f71bf5",
      "revId": "0b0f7f172097c26bd584d39bebce129a22a94d13",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}