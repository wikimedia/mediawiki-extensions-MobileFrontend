{
  "comments": [
    {
      "key": {
        "uuid": "4e0977d2_16c91303",
        "filename": "tests/node-qunit/mobile.startup/foo.test.js",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 6176
      },
      "writtenOn": "2018-09-26T20:56:39Z",
      "side": 1,
      "message": "I don\u0027t think this call does anything without being supplied an object.\n\nhttps://sinonjs.org/releases/v1.17.6/utils/#sinonrestoreobject\n\nI think what you\u0027re going for is to create a sinon sandbox, call .mock/.stub on that sandbox instance, and then call .restore on the sandbox instance after each test if needed. \n\nAccording to https://sinonjs.org/releases/v1.17.6/sandbox/, it looks like you can either explicitly create a sandbox with sinon.sandbox.create() and use that sandbox instance in the tests or you can pass each test function into sinon.test and use this.stub/this.mock within the test.  e.g. \n\n```\nQUnit.test( \u0027bar\u0027, sinon.test( function ( assert ) {\n  this.stub(api, \u0027foo\u0027);\n} )\n```\n\nI think the benefit of the latter approach is that you don\u0027t have to make any restore calls",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 18
      },
      "revId": "423b29549bd693d2e3489ddb753c604bf54a4551",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a0b0d47_9693a4b8",
        "filename": "tests/node-qunit/mobile.startup/foo.test.js",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-09-27T16:23:01Z",
      "side": 1,
      "message": "This line restores the default sandbox according to: https://sinonjs.org/releases/v6.3.4/general-setup/. The v1.17.6 docs are outdated.\n\nExplicit sandboxes, sinon.createSandbox(), sounds fine. I hope that would mean we could drop the Hooks, with each test just creating its own sandbox as needed. I couldn\u0027t find sinon.test in the current docs so I\u0027m not sure if that means it\u0027s deprecated.",
      "parentUuid": "4e0977d2_16c91303",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 18
      },
      "revId": "423b29549bd693d2e3489ddb753c604bf54a4551",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "916b92fb_f64da597",
        "filename": "tests/node-qunit/mobile.startup/foo.test.js",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-09-27T16:26:06Z",
      "side": 1,
      "message": "\u003e sandbox \u003d sinon.createSandbox(),\n\nDone in PS6. Let me know what you think.",
      "parentUuid": "3a0b0d47_9693a4b8",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 18
      },
      "revId": "423b29549bd693d2e3489ddb753c604bf54a4551",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69f431cf_1075f2a0",
        "filename": "tests/node-qunit/mobile.startup/foo.test.js",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 6176
      },
      "writtenOn": "2018-09-27T16:51:35Z",
      "side": 1,
      "message": "That looks good in latest patch. \n\nNote: I made the comment above because I noticed we were using sinon 1.17.3 in the package.json. Is the plan to still use that version or to use the latest version? I think we should use whatever version the Special:JavascriptTest page uses which I believe is currently 1.17.3",
      "parentUuid": "916b92fb_f64da597",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 18
      },
      "revId": "423b29549bd693d2e3489ddb753c604bf54a4551",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa9a190_d342c9ee",
        "filename": "tests/node-qunit/mobile.startup/foo.test.js",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-09-27T18:18:38Z",
      "side": 1,
      "message": "I didn\u0027t realize we were using such an ancient version. I agree, we should use v1.17.3. I do think we should avoid functions deprecated in later versions though.",
      "parentUuid": "69f431cf_1075f2a0",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 18
      },
      "revId": "423b29549bd693d2e3489ddb753c604bf54a4551",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}