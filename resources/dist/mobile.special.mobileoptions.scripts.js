(self.webpackChunkmfModules=self.webpackChunkmfModules||[]).push([[898],{"./src/mobile.special.mobileoptions.scripts.js":(e,n,t)=>{var o=mw.storage,i=mw.user.clientPrefs,l=new mw.Api,s=t("./src/mobile.startup/Browser.js").getSingleton(),a=t("./src/mobile.startup/showOnPageReload.js"),r=t("./src/mobile.startup/amcOutreach/amcOutreach.js"),g="expandSections",m=mw.msg,c="regular",u="mf-font-size";function d(e){e?a.showOnPageReload(m("mobile-frontend-settings-save")):mw.notify(m("mobile-frontend-settings-save"))}function f(e,n){var t=$("<div>");return t.append($("<strong>").text(e)),t.append($("<div>").addClass("option-description").text(n)),new OO.ui.LabelWidget({label:t})}mw.loader.using("oojs-ui-widgets").then((function(){var e=$("#mobile-options"),n=$("#enable-beta-toggle"),t=$("#enable-amc-toggle"),a=[];n.length&&a.push({$el:n,onToggle:function(){}}),t.length&&a.push({$el:t,onToggle:function(e){!e&&r.loadCampaign().isCampaignActive()&&r.loadCampaign().makeAllActionsIneligible()}}),function(e,n){e.forEach((function(e){var t,o,i,l=e.$el;o=OO.ui.infuse(l),i=o.$element,(t=new OO.ui.ToggleSwitchWidget({value:o.isSelected()})).$element.insertAfter(i),i.hide(),i.on("change",(function(){i.attr("disabled",!0),t.setValue(o.isSelected())})),t.on("change",(function(o){e.onToggle(o),t.setValue=function(){},i.find("input").prop("checked",o),d(!0),setTimeout((function(){n.trigger("submit")}),250)}))}))}(a,e),!s.isWideScreen()&&mw.config.get("wgMFCollapseSectionsByDefault")&&function(e){var n,t;n=new OO.ui.ToggleSwitchWidget({name:g,value:"true"===o.get(g)}),t=new OO.ui.FieldLayout(n,{label:f(mw.msg("mobile-frontend-expand-sections-status"),mw.msg("mobile-frontend-expand-sections-description")).$element}),n.on("change",(function(e){o.set(g,e?"true":"false"),d()})),t.$element.prependTo(e)}(e),mw.config.get("wgMFEnableFontChanger")&&function(e){var n,t,o=mw.user.isAnon()?i.get(u):mw.user.options.get(u);t=new OO.ui.DropdownInputWidget({value:o||c,options:[{data:"small",label:m("mobile-frontend-fontchanger-option-small")},{data:c,label:m("mobile-frontend-fontchanger-option-medium")},{data:"large",label:m("mobile-frontend-fontchanger-option-large")},{data:"xlarge",label:m("mobile-frontend-fontchanger-option-xlarge")}]}),n=new OO.ui.FieldLayout(t,{label:f(mw.msg("mobile-frontend-fontchanger-link"),mw.msg("mobile-frontend-fontchanger-desc")).$element}),t.on("change",(function(e){mw.user.isAnon()?i.set(u,e):l.saveOption(u,e),d()})),n.$element.prependTo(e)}(e)}))}},e=>{e.O(0,[569],(()=>e(e.s="./src/mobile.special.mobileoptions.scripts.js")));var n=e.O();(this.mfModules=this.mfModules||{})["mobile.special.mobileoptions.scripts"]=n}]);
//# sourceMappingURL=mobile.special.mobileoptions.scripts.js.map.json