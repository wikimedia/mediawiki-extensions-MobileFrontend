{
  "comments": [
    {
      "key": {
        "uuid": "5fb4ca16_69b7446d",
        "filename": "tests/qunit/mobile.references.gateway/test_ReferencesMobileViewGateway.js",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-03-19T23:13:31Z",
      "side": 1,
      "message": "What do you think about reducing the indent instead? Something like:\n\n var util \u003d {\n   fail: function() { assert.ok(false, arguments); }\n }\n\n function req(ref) {\n   return referencesGateway.getReference( ref, page )\n     .then( undefined, util.fail )\n }\n\n var promise \u003d $.Deferred();\n promise \u003d promise.then(function() { return req( \u0027#cite_note-1\u0027 ); });\n promise \u003d promise.then(function() { return req( \u0027#cite_note-2\u0027 ); });\n promise \u003d promise.then(function() { assert.ok(...); });\n return promise;",
      "revId": "dae27010127732d4c799d6b33cfade241683e4d2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3bee197_dde929ba",
        "filename": "tests/qunit/mobile.references.gateway/test_ReferencesMobileViewGateway.js",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 34
      },
      "writtenOn": "2018-03-20T02:20:28Z",
      "side": 1,
      "message": "Avoid wrapping $.Deferred manually. This is an anti-pattern that we\u0027ve been trying to phase out, not introduce more of.\n\nAs far as I can tell, the only problem with the original code was its use of \"always\" instead of \"then\" because it was trying to return inside the always() callback with another  promise to wait for, but always() is not chainable, only then() is.\n\nThe failure mode doesn\u0027t matter because QUnit already asserts the waited-for promise succeeds. If it fails, then it will report it for you as a failure.",
      "parentUuid": "5fb4ca16_69b7446d",
      "revId": "dae27010127732d4c799d6b33cfade241683e4d2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ce9b83f_3cdef053",
        "filename": "tests/qunit/mobile.references.gateway/test_ReferencesMobileViewGateway.js",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 34
      },
      "writtenOn": "2018-03-20T02:37:00Z",
      "side": 1,
      "message": "For future reference, use assert.async() when tracking flows manually. The indirection with Deferred is not needed in that case. For this commit though, should be fixed with a one-line change from always() to then(), per the other comment.",
      "range": {
        "startLine": 80,
        "startChar": 3,
        "endLine": 80,
        "endChar": 18
      },
      "revId": "dae27010127732d4c799d6b33cfade241683e4d2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4046619b_6bbccaa7",
        "filename": "tests/qunit/mobile.references.gateway/test_ReferencesMobileViewGateway.js",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-03-20T16:58:51Z",
      "side": 1,
      "message": "Thanks. I never noticed that.",
      "parentUuid": "0ce9b83f_3cdef053",
      "range": {
        "startLine": 80,
        "startChar": 3,
        "endLine": 80,
        "endChar": 18
      },
      "revId": "dae27010127732d4c799d6b33cfade241683e4d2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}