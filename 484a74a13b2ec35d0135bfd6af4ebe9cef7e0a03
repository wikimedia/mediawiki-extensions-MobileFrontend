{
  "comments": [
    {
      "key": {
        "uuid": "d4cf0834_cf3c025d",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 94
      },
      "writtenOn": "2019-02-20T19:55:06Z",
      "side": 1,
      "message": "Is this a good idea? What if one of the options is a DOMElement... we serialize all of this to localStorage.\n\nI feel like we should let this method be unless there is a specific problem this solves. Thoughts?",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec7a853_6efe49ec",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-02-20T20:58:02Z",
      "side": 1,
      "message": "If the method is deprecated we should get rid of it or it will break at some point. I\u0027ll have a look at the mw.notify options..",
      "parentUuid": "d4cf0834_cf3c025d",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa87ea46_37e3a2ff",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-02-20T21:04:36Z",
      "side": 1,
      "message": "Looking at the docs all options are either bool, number or string, so this should be fine to serialize.\n\nThe only argument that can contain DOM nodes is \u0027content\u0027 (although the documentation here say it should be a string), which we are already serializing. DOM nodes serialize to  empty objects so it would be pretty obvious during testing that your code didn\u0027t work, which is I guess why it hasn\u0027t been a problem so far.",
      "parentUuid": "6ec7a853_6efe49ec",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03180e23_81164fab",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 94
      },
      "writtenOn": "2019-02-20T21:31:30Z",
      "side": 1,
      "message": "\u003e If the method is deprecated we should get rid of it or it will break at some point. I\u0027ll have a look at the mw.notify options..\n\nI don\u0027t think showOnPageReload should be deprecated.\nit has a specific purpose which is deferring toasts till after a page reload and discussed here https://phabricator.wikimedia.org/T212542\nWe need to work out whether this needs to be in core.\n\n\u003e Looking at the docs all options are either bool, number or string, so this should be fine to serialize.\n\nTechnical aside, we don\u0027t need this functionality, so I\u0027m not sure why we need to support it as it opens up a risk in future of new arguments being passed to toast that we cannot handle.",
      "parentUuid": "fa87ea46_37e3a2ff",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0d72421_b1945632",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-02-20T21:47:51Z",
      "side": 1,
      "message": "I didn\u0027t mean the method is deprecated. Passing a string as the second argument is deprecated.\n\nAs before, anyone trying to use a DOM option with this method would see it obviously fail.",
      "parentUuid": "03180e23_81164fab",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "283df763_4f08cf93",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 94
      },
      "writtenOn": "2019-02-20T21:54:08Z",
      "side": 1,
      "message": "Okay, but this seems to be adding unnecessary functionality. Why does the function signature need to change at all?\nWhy can\u0027t _showPending be updated to call :\n\n```\nthis.show( data.content, { className: data.className } );\n```\n?",
      "parentUuid": "a0d72421_b1945632",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "beed3650_383af3e7",
        "filename": "src/mobile.startup/toast.js",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-02-21T11:47:08Z",
      "side": 1,
      "message": "Seems like no good reason for the two methods to have different signatures. As noted above the caller already has to check they don\u0027t pass DOM elements.",
      "parentUuid": "",
      "revId": "484a74a13b2ec35d0135bfd6af4ebe9cef7e0a03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}