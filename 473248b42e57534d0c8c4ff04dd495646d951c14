{
  "comments": [
    {
      "key": {
        "uuid": "ae1ac700_311660f7",
        "filename": "includes/skins/SkinMinerva.php",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1963
      },
      "writtenOn": "2017-06-05T14:42:35Z",
      "side": 1,
      "message": "What\u0027s the point of having this variable if we\u0027re falling back to 0? Why not execute the function only when Minerva is active? This change seems to be trying to hide a bug.",
      "revId": "473248b42e57534d0c8c4ff04dd495646d951c14",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae1ac700_91408caa",
        "filename": "includes/skins/SkinMinerva.php",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 94
      },
      "writtenOn": "2017-06-05T15:22:25Z",
      "side": 1,
      "message": "I\u0027m not sure i understand where you are coming from. There\u0027s no bug here as far as I\u0027m concerned.\n\nThing I\u0027m trying to solve: I\u0027m accounting for when the variable does not exist, which will be possible when I pull Minerva out of MobileFrontend.\n\nProblem:\nThe reason we have this variable is that on some wikis the random and nearby feature doesn\u0027t operate on the 0 namespace, for example on Commons we use the file namespace.\n\nThe problem is the variable is used for Nearby by Minerva and there is no config variable in core. In core for instance the desktop site of commons uses https://commons.wikimedia.org/wiki/MediaWiki:Sidebar to update the random link.\n\nAn alternative solution would be to change the config name to MinervaContentNamespace. If we do this we\u0027d need to find a new way to make Nearby work - either introducing a new config NearbyContentNamespace OR allowing Nearby to operate in different namespaces when passed a parameter and passing in that parameter here.",
      "parentUuid": "ae1ac700_311660f7",
      "revId": "473248b42e57534d0c8c4ff04dd495646d951c14",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae1ac700_0c8b0374",
        "filename": "includes/skins/SkinMinerva.php",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1963
      },
      "writtenOn": "2017-06-05T16:48:02Z",
      "side": 1,
      "message": "The problem from my point of view is that we\u0027re unconditionally falling back to 0 knowing that this won\u0027t work on some wikis. Thus we\u0027re replacing one bug with another. The initial bug is that the variable may not be defined. The new bug is that we\u0027re using the wrong value of the variable for some wikis.",
      "parentUuid": "ae1ac700_91408caa",
      "revId": "473248b42e57534d0c8c4ff04dd495646d951c14",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae1ac700_ec324fbc",
        "filename": "includes/skins/SkinMinerva.php",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 94
      },
      "writtenOn": "2017-06-05T17:25:24Z",
      "side": 1,
      "message": "0 should work for the majority of wikis .. especially 3rd party ones. The only wiki I know that uses something other than 0 is Commons.\n\nGiven in production we are using MobileFrontend and Minerva together this is not going to introduce any bugs in our stack it just makes my life easier and Jenkins happy when I pull this code into a new repo.\n\nThere is no bug here before or after the change.\n\nWhat can I do to make you happy here...? :)",
      "parentUuid": "ae1ac700_0c8b0374",
      "revId": "473248b42e57534d0c8c4ff04dd495646d951c14",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae1ac700_2cc0472f",
        "filename": "includes/skins/SkinMinerva.php",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1963
      },
      "writtenOn": "2017-06-05T18:10:39Z",
      "side": 1,
      "message": "Hmm, I\u0027m not sure. You don\u0027t seem to agree that the code before the change breaks when MFContentNamespace is not set, which maybe the case as you say. You also say commons uses something other than 0, and yet say it is not a bug to fall back to 0.\n\nYour solution doesn\u0027t seem like an improvement over the existing code. It\u0027s just making things easier for moving Minerva out of MF. I think we should hear what other devs have to say. Note I didn\u0027t give a -1, so no need to make me happy. I just don\u0027t feel like merging this code, as I\u0027m not convinced to merge code knowing that an edge case is not met. Having said that, I\u0027m not opposed if someone else merges the patch after reading this conversation.",
      "parentUuid": "ae1ac700_ec324fbc",
      "revId": "473248b42e57534d0c8c4ff04dd495646d951c14",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae1ac700_c394f93b",
        "filename": "includes/skins/SkinMinerva.php",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 3945
      },
      "writtenOn": "2017-06-05T21:38:16Z",
      "side": 1,
      "message": "a) this is a config variable, why we cannot put a default 0 in configuration file instead of hardcoding default value in php file?\nb) why do we use integers instead of defined NS_MAIN?",
      "parentUuid": "ae1ac700_2cc0472f",
      "revId": "473248b42e57534d0c8c4ff04dd495646d951c14",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}