{
  "comments": [
    {
      "key": {
        "uuid": "bce0ca70_11257163",
        "filename": "package.json",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 94
      },
      "writtenOn": "2019-02-20T20:27:41Z",
      "side": 1,
      "message": "Unless I\u0027m mistaken this adds doc and svgchecking to the precommit hook.\n\nMy precommit hook is already incredibly slow and I wonder do we really need to run both doc and svg check inside the precommit hook?\n\nThey are most of the time unnecessary and I\u0027d rather defer those jobs to Jenkins.\n\nPreviously we didn\u0027t run these and that was great!\n\n(i\u0027d also like to suggest removing jsonlint:all and banana:MobileFrontend off the precommit path)\n\nI often find myself disabling these as I don\u0027t feel the slowness is  worth the gain.",
      "range": {
        "startLine": 12,
        "startChar": 36,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "cba2c8cfc847b6d520d02082210c3a5f423f50b6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c443ca05_8ae2beaa",
        "filename": "package.json",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 2426
      },
      "writtenOn": "2019-02-20T20:33:21Z",
      "side": 1,
      "message": "The old precommit script actually executed all this stuff indirectly:\n\n \"precommit\": \"composer test \u0026\u0026 npm run test:bundle-cached \u0026\u0026 npm run test:unit \u0026\u0026 npm run test:all\",\n\nVia test:all which was:\n\n \"test:all\": \"npm run lint \u0026\u0026 npm run doc \u0026\u0026 dev-scripts/svg_check.sh\",\n\nSo no changes there.\n\nEither way, I have no issue with moving doc and svg_check from test:all to test. Let me know if you want that in this patch or not.",
      "parentUuid": "bce0ca70_11257163",
      "range": {
        "startLine": 12,
        "startChar": 36,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "cba2c8cfc847b6d520d02082210c3a5f423f50b6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f4a2e7b_e4c4aaae",
        "filename": "package.json",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 94
      },
      "writtenOn": "2019-02-20T21:35:56Z",
      "side": 1,
      "message": "Geez you are right... messy (I\u0027d thought it was running npm test)!\n\nDon\u0027t have any qualms about doing that in this patch or another but would be good to address all these issues satisfactory while we are here and thinking about it.\n\nI think precommit hook only needs to run composer (preferably if only php changes), linting and unit tests (node.js) + coverage.\n\nPersonally I think we could drop bundlesize checks, svg checks and doc checks and leave those to Jenkins.",
      "parentUuid": "c443ca05_8ae2beaa",
      "range": {
        "startLine": 12,
        "startChar": 36,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "cba2c8cfc847b6d520d02082210c3a5f423f50b6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69cf6c90_376f614c",
        "filename": "package.json",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 2426
      },
      "writtenOn": "2019-02-21T15:28:12Z",
      "side": 1,
      "message": "I\u0027ve made these changes in a follow-up patch since, while related, they felt distinct and might be controversial. I did not attempt to limit composer execution to commits touching PHP files but we can look into that. If you recall, we had a of bunch shell scripts to test whether SVG / PHP / etc files were touched and execute the appropriate tools. Do you want me to bring that back?",
      "parentUuid": "2f4a2e7b_e4c4aaae",
      "range": {
        "startLine": 12,
        "startChar": 36,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "cba2c8cfc847b6d520d02082210c3a5f423f50b6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}