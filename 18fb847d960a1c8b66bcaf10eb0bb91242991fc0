{
  "comments": [
    {
      "key": {
        "uuid": "66c5b265_bf448668",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-12-11T23:57:39Z",
      "side": 1,
      "message": "LukBukkit it looks like this delay does not need to be so big on Wikipedia.org\n\nCan I thus suggest we make this configurable? I\u0027d rather have a smaller number if possible.\n\nAlso I can\u0027t see to find a phabricator ticket tracking this issue, as 7.5s on any wiki is not desirable and I wonder if we can fix the API part of this.",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ab5bd5d_14d730b4",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 4362
      },
      "writtenOn": "2018-12-12T15:53:34Z",
      "side": 1,
      "message": "You\u0027re right. It\u0027s a good idea to make this configurable.\n\nThe solution to fix the time problem is to set up job queue, but this won\u0027t be configured automatically when installing MediaWiki.\nRead more: https://www.mediawiki.org/wiki/Manual:Job_queue#Set_up",
      "parentUuid": "66c5b265_bf448668",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9051008e_69c3463a",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-12-12T16:17:32Z",
      "side": 1,
      "message": "Mmm.\nSo I guess this also might not be enough time on certain configurations, right? :/",
      "parentUuid": "6ab5bd5d_14d730b4",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e48dd28_61919c85",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-12-12T16:21:01Z",
      "side": 1,
      "message": "Do we know where the delay for the cronjob is defined?\nIf so maybe we could tie this value to that.\n\nHowever, if the delay is more than 7s, we probably want to consider a different solution here, for example:\n* inserting a notice that new categories will take time to appear.\n* Rewriting and \"faking\" the refresh via JS  (as in https://gerrit.wikimedia.org/r/#/c/mediawiki/extensions/MobileFrontend/+/460986/)\n* Using localStorage, to ensure \"pending\" categories are added to responses.\n\nI\u0027m not 100% sure what the right solution here is.",
      "parentUuid": "9051008e_69c3463a",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86910744_d84e82c2",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 4362
      },
      "writtenOn": "2018-12-15T16:29:58Z",
      "side": 1,
      "message": "I guess the best solution is as mentioned to close the overlay.",
      "parentUuid": "4e48dd28_61919c85",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a10b71f_482c94d3",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 144,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-12-11T23:07:57Z",
      "side": 1,
      "message": "This comment would be better above reloadDelay as if that delay changes to 200, this comment won\u0027t make sense :)",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a003d97_0acfa0b3",
        "filename": "resources/mobile.categories.overlays/CategoryAddOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 144,
      "author": {
        "id": 4362
      },
      "writtenOn": "2018-12-15T16:29:58Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9a10b71f_482c94d3",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4403d1c_bad03684",
        "filename": "resources/mobile.categories.overlays/CategoryOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-12-11T23:57:39Z",
      "side": 1,
      "message": "Why do we need to empty?",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5de9aac3_4bf3e90b",
        "filename": "resources/mobile.categories.overlays/CategoryOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 4362
      },
      "writtenOn": "2018-12-12T15:53:34Z",
      "side": 1,
      "message": "The _loadCategories function only appends newly loaded categories. It doesn\u0027t delete anything, because (as far as I could unterstand it) when your scroll down, it should be able to load another \"page\" or bundle of categories. It should work like a infinite scrolling view.",
      "parentUuid": "e4403d1c_bad03684",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "094819b0_c91a9adb",
        "filename": "resources/mobile.categories.overlays/CategoryOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 94
      },
      "writtenOn": "2018-12-12T16:17:32Z",
      "side": 1,
      "message": "Oh I see, so this resets the gateway and empties the list of categories so that it\u0027s compatible with loadCategories. Could you please add an inline comment here, to explain what\u0027s happening?",
      "parentUuid": "5de9aac3_4bf3e90b",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bfbef4f_8c546852",
        "filename": "resources/mobile.categories.overlays/CategoryOverlay.js",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 4362
      },
      "writtenOn": "2018-12-15T16:29:58Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "094819b0_c91a9adb",
      "revId": "18fb847d960a1c8b66bcaf10eb0bb91242991fc0",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}