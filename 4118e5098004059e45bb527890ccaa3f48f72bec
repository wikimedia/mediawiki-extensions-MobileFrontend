{
  "comments": [
    {
      "key": {
        "uuid": "Dto.f.f8",
        "filename": "javascripts/modules/mf-photo.js",
        "patchSetId": 1
      },
      "lineNbr": 429,
      "author": {
        "id": 542
      },
      "writtenOn": "2013-04-08T18:14:58Z",
      "side": 1,
      "message": "This just doesn\u0027t seem right, running all that code and hiding the button. I\u0027d rather add \"\u0026\u0026 (M.isLoggedIn() || mw.config.get( \u0027wgMFEnablePhotoUploadCTA\u0027 )\" to line 557.",
      "revId": "4118e5098004059e45bb527890ccaa3f48f72bec",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "Dto9pOfw",
        "filename": "javascripts/modules/mf-photo.js",
        "patchSetId": 1
      },
      "lineNbr": 429,
      "author": {
        "id": 94
      },
      "writtenOn": "2013-04-08T18:24:41Z",
      "side": 1,
      "message": "this was meant as a short term fix so I did the simplest thing possible. That said something smells wrong with this code.. I was surprised to see we create the photo upload button regardless of login state. I feel like the CTA should be created outside the photo uploader....\n\ne.g.\n$btn \u003d createPhotoUploadButton()\nif ( !M.isLoggedIn() ) {\n $btn.on(\u0027click\u0027, createCTA );\n}",
      "parentUuid": "Dto.f.f8",
      "revId": "4118e5098004059e45bb527890ccaa3f48f72bec",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "Dtk8P0Tg",
        "filename": "javascripts/modules/mf-photo.js",
        "patchSetId": 1
      },
      "lineNbr": 429,
      "author": {
        "id": 542
      },
      "writtenOn": "2013-04-08T18:42:41Z",
      "side": 1,
      "message": "I know what you mean. It\u0027s just that the PhotoUploader is the button itself. I had an idea of rewriting this so that you can bind a click event to PhotoUploader which overrides default click behavior. It seems like a cleaner solution and makes PhotoUploader independent of CTA and M.isLoggedIn().",
      "parentUuid": "Dto9pOfw",
      "revId": "4118e5098004059e45bb527890ccaa3f48f72bec",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}